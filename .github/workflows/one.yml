name: One taking a number and a JSON as input

on:
  workflow_dispatch:
    inputs:
      number:
        description: "The number"
        required: true
        default: "0"
      report:
        description: "Stringified JSON"
        required: true

jobs:
  lint-deprecated:
    runs-on: ubuntu-latest
    steps:
      #Read and print input
      - name: Read input and display
        run: |
          echo "Number of deprecated fields: ${{ github.event.inputs.number }}"
          echo "Report as comes: ${{ github.event.inputs.report }}"
          echo "Report with fromJSON: ${{ fromJSON(github.event.inputs.report) }}"
          echo "Report with fromJSON-toJSON: ${{ toJSON(fromJSON(github.event.inputs.report)) }}"
          echo "Report as JSON (after from-to):"
          echo "${{ toJSON(fromJSON(github.event.inputs.report)) }}" | jq .
          echo "Report as JSON:"
          echo "${{ github.event.inputs.report }}" | jq .
